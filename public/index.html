<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>:: API Banco-Vivienda ::</title>

    <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/stroke.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/animate.css">
    <link rel="stylesheet" type="text/css" href="css/prettyPhoto.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shCore.css" media="all">
    <link rel="stylesheet" type="text/css" href="js/syntax-highlighter/styles/shThemeRDark.css" media="all">

    <!-- CUSTOM -->
    <link rel="stylesheet" type="text/css" href="css/custom.css">
</head>

<body>
    <button onclick="topFunction()" id="myBtn" title="Go to top"><i class="fa fa-chevron-up"
            aria-hidden="true"></i></button>
    <div class="wrapper">
        <div id="mode">
            <div class="dark">
                <svg aria-hidden="true" viewBox="0 0 512 512">
                    <title>lightmode</title>
                    <path fill="currentColor"
                        d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z">
                    </path>
                </svg>
            </div>
            <div class="light">
                <svg aria-hidden="true" viewBox="0 0 512 512">
                    <title>darkmode</title>
                    <path fill="currentColor"
                        d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z">
                    </path>
                </svg>
            </div>
        </div>
        <div class="container">
            <section id="top" class="section docs-heading">
                <div class="row">
                    <div class="col-md-12">
                        <div class="big-title text-center">
                            <h1>Documentacion API Banco de Vivienda</h1>
                            <p class="lead">Proyecto API REST Universidad Davinci Guatemala 2021</p>
                        </div>
                    </div>
                </div>
                <hr>
            </section>
            <div class="row">
                <div class="col-md-3">
                    <nav class="docs-sidebar" data-spy="affix" data-offset-top="300" data-offset-bottom="200"
                        role="navigation">
                        <ul class="nav">
                            <li><a href="#primerosPasos">Primeros Pasos</a></li>
                            <li><a href="#GET">GET</a></li>
                            <li><a href="#POST">POST</a></li>
                            <li><a href="#PUT">PUT</a></li>
                            <li><a href="#DELETE">DELETE</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="col-md-9">
                    <section class="welcome">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2 class="dark-text">Introducción
                                </h2>
                                <hr>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div>
                                            <p>Actualmente, sean proyectos o aplicaciones disponen de una API REST para
                                                crear servicios profesionales a partir de este software. Twitter,
                                                YouTube, sistemas de identificación con Facebook... Con la ayuda de REST
                                                y REST API, cientos de empresas han generado negocio. Sin ellos, es casi
                                                imposible lograr todo el crecimiento horizontal. La razón de esto es que
                                                REST es el estándar más lógico, efectivo y universal para crear API de
                                                servicios de Internet, si desea mayor informacion acerca de este
                                                paradigma arquitectonico puede dar clik a este <a class="link"
                                                    href="https://www.idento.es/blog/desarrollo-web/que-es-una-api-rest/"
                                                    rel="nofolow" target="_blank">enlace</a>
                                            </p>
                                            <p>En esta documentacion abarcaremos la forma de poder utilizar la API de
                                                "Banco de vivienda". Como ultimo punto utilizaremos como ejemplos de
                                                consumo de la API, el lenguaje de programacion Javascript y su metodo
                                                Fetch el cual proporciona una interfaz JavaScript para acceder y
                                                manipular partes del canal HTTP para mas informacion de este metodo
                                                puede seguir este <a
                                                    href="https://developer.mozilla.org/es/docs/Web/API/Fetch_API/Using_Fetch"
                                                    rel="nofolow" target="_blank">enlace</a></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <section id="primerosPasos" class="pt-0">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2>Primeros Pasos</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <p>Para acceder a los distintos metodos de la API es necesario un token que se le
                                    proporcionara al encargado de cada sucursal.</p>
                                <h4>Ejemplo:</h4>
                                <pre class="brush: javascript; highlight: [1,3,4,5,6]">
                                    fetch("https://Banco-vivienda.club/clientes/113", { // recordar colocar https
                                        "headers": { 
                                          "Accept": "application/json",
                                          "authorization": "Bearer YOUR_TOKEN" 
                                          // esta es la forma de enviar su token atravez de la 
                                          //cabecera authorization y anteponer Bearer
                                        }
                                      })
                                      .then(response => {
                                         return response.json()
                                      })
                                      .then(response => {
                                        console.log(response);
                                      })
                                      .catch(err => {
                                        console.error(err);
                                      });
                                </pre>
                                <h4>Esto nos devuelve lo siguiente:</h4>
                                <pre class="brush: javascript">
                                    {
                                        "cliente_id": 113,
                                        "cliente_ide": "1234",
                                        "cliente_nombre1": "Handry Steven",
                                        "cliente_ape1": "Fuentes",
                                        "cliente_ape2": "Reynoso",
                                        "cliente_fcreacion": "2021-04-04",
                                        "cliente_fnac": "2000-02-01",
                                        "statuscli_id": 5,
                                        "sucursal_id": 5,
                                        "cliente_op1": "",
                                        "cliente_op2": "",
                                        "tipoide_id": 1,
                                        "tbcliente_creditos": [
                                          {
                                            "clientecred_id": 1,
                                            "clientecred_dsc": "tarjeta visa oro",
                                            "clientecred_fcreacion": "2021-04-18",
                                            "clientecred_monto": 500,
                                            "clientecred_cuotas": 1,
                                            "clientecred_fupago": null,
                                            "clientecred_diapago": 15,
                                            "cliente_id": 113,
                                            "credito_id": null,
                                            "statuscred_id": 5,
                                            "clientecred_statusSolicitud": "E",
                                            "clientecred_saldo": 500,
                                            "clientecred_statusmora": 0,
                                            "clientecred_fsolicitud": "2021-04-18",
                                            "clientecred_sucursal": 5
                                          }
                                        ],
                                        "statuscli": {
                                          "statuscli_id": 5,
                                          "statuscli_cod": "ACTIVO",
                                          "statuscli_dsc": "USUARIO ACTIVO"
                                        },
                                        "sucursal": {
                                          "sucursal_id": 5,
                                          "sucursal_nombre": "",
                                          "sucursal_dsc": "",
                                          "sucursal_status": 1
                                        },
                                        "tipoide": {
                                          "tipoide_id": 1,
                                          "tipoide_cod": "DPI"
                                        }
                                      }
                                </pre>
                                <blockquote>
                                    <p>El endpoint anterior utilizamos el id del cliente para realizar la busqueda</p>
                                </blockquote>
                            </div>
                        </div>
                    </section>
                    <section id="GET">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2>GET</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-m-d12">
                                <p>Ahora veremos la busqueda por medio del DPI</p>
                                <pre class="brush:javascript">
                                    fetch("https://banco-vivienda.club/clientes/consulta/21781889", {
                                        "headers": {
                                            'Accept': 'application/json',
                                            "authorization": "Bearer  YOUR_TOKEN"
                                        }
                                    })
                                        .then(response => {
                                            return response.json()
                                        })
                                        .then(response => {
                                            console.log(response);
                                        })
                                        .catch(err => {
                                            console.error(err);
                                        });
                                </pre>
                                <pre class="brush:javascript; highlight: [4]">
                                    //Resultado:
                                    {
                                        "cliente_id": 148,
                                        "cliente_ide": "21781889", // DPI
                                        "cliente_nombre1": "Brodner",
                                        "cliente_ape1": "Morales",
                                        "cliente_ape2": "Arevalo",
                                        "cliente_fcreacion": "2021-04-14T06:00:00.000Z",
                                        "cliente_fnac": "1992-02-01T06:00:00.000Z",
                                        "statuscli_id": 5,
                                        "sucursal_id": 5,
                                        "cliente_op1": null,
                                        "cliente_op2": null,
                                        "tipoide_id": 1
                                    }
                                </pre>
                            </div>
                        </div>
                    </section>
                    <section id="POST">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2>POST</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <p>Creacion de cliente</p>
                                <pre class="brush:javascript">
                                    fetch("https://banco-vivienda.club/clientes/registro", {
                                        "method": "POST",
                                        "headers": {
                                            "content-type": "application/json",
                                            'Accept': 'application/json',
                                            "authorization": "Bearer YOUR_TOKEN"
                                        },
                                        body: JSON.stringify({
                                            "dpi": 1478523690122,
                                            "name": "Meral", // - no dejarlo en blanco 
                                            "lastNameOne": "Sai", // - no dejarlo en blanco 
                                            "lastNameTwo": "Mad", // - no dejarlo en blanco 
                                            "typeIde": 1, //- no dejarlo en blanco 
                                            "bornDate": "1990-02-01" //- no dejarlo en blanco 
                                        })
                                    })
                                        .then(
                                            response => response.json()
                                        )
                                        .then(response => {
                                            console.log(response);
                                        })
                                        .catch(err => {
                                            console.error(err);
                                        });
                                </pre>
                                <pre class="brush:javascript">
                                    // Resultado
                                      {
                                        "Level": "SP",
                                        "Code": 100,
                                        "Message": "proceso exitoso"
                                      }
                                </pre>
                                <h3>Creacion de Credito</h3>
                                <pre class="brush:javascript">
                                    /**
                                    * observacion:
                                    * el campo cred_tipo debe tener como parametros los siguiente tipos:
                                    * tar_visa
                                    * tar_master
                                    * HIPOTECA
                                    * PREST_10
                                    * PREST_Colabor
                                    * PREST_GEN_CTA_AHORRO
                                    * CTA_MONE
                                    */
                                    fetch("https://banco-vivienda.club/creditos/registrar", {
                                        "method": "POST",
                                        "headers": {
                                            'Accept': 'application/json',
                                            "content-type": "application/json",
                                            "authorization": "Bearer YOUR_TOKEN"
                                        },
                                        "body": JSON.stringify({
                                          "dpi": 1247,
                                          "descripcion": "tarjeta visa oro",
                                          "monto": "1000",
                                          "diapago": 20,
                                          "cred_tipo": "tar_visa"
                                        })
                                      })
                                      .then(response => {
                                        console.log(response);
                                      })
                                      .catch(err => {
                                        console.error(err);
                                      });
                                </pre>
                                <h3>Pago credito</h3>
                                <pre class="brush:javascript">
                                    fetch("https://banco-vivienda.club/creditos/ingresarpago", {
                                        "method": "POST",
                                        "headers": {
                                            'Accept': 'application/json',
                                            "content-type": "application/json",
                                            "authorization": "Bearer YOUR_TOKEN"
                                        },
                                        "body": JSON.stringify({
                                            "id_credito": 4,
                                            "monto": 200.1
                                        })
                                    })
                                        .then(response => response.json())
                                        .then(response => {
                                            console.log(response);
                                        })
                                        .catch(err => {
                                            console.error(err);
                                        });
                                </pre>
                            </div>
                        </div>
                    </section>
                    <section id="PUT">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2>PUT</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <p>Actualizacion de informacion del cliente</p>
                                <pre class="brush:javascript">
                                    fetch("https://banco-vivienda.club/clientes/actualizacion", {
                                        "method": "PUT",
                                        "headers": {
                                            "content-type": "application/json",
                                            "authorization": "Bearer YOUR_TOKEN",
                                            'Accept': 'application/json'
                                        },
                                        "body": JSON.stringify({
                                            "dpi": 1478523690122, // obligatorio
                                            "name": "Meral", // obligatorio - no dejarlo en blanco 
                                            "lastNameOne": "Sain", // obligatorio - no dejarlo en blanco 
                                            "lastNameTwo": "Mad", // obligatorio - no dejarlo en blanco 
                                            "typeIde": 1, // obligatorio - no dejarlo en blanco 
                                            "bornDate": "1990-02-28" // obligatorio - no dejarlo en blanco 
                                        })
                                    })
                                        .then(
                                            response => response.json()
                                        )
                                        .then(response => {
                                            console.log(response);
                                        })
                                        .catch(err => {
                                            console.error(err);
                                        });
                                </pre>
                                <pre class="brush:javascript">
                                    // Resultado
                                    {
                                        "Level":"SP",
                                        "Code":100,
                                        "Message":"proceso exitoso"
                                    }
                                </pre>
                                <h3>Actualizacion de Informacion de Credito</h3>
                                <pre class="brush:javascript">
                                    /**
                                    * observacion:
                                    * el campo cred_tipo debe tener como parametros los siguiente tipos:
                                    * tar_visa
                                    * tar_master
                                    * HIPOTECA
                                    * PREST_10
                                    * PREST_Colabor
                                    * PREST_GEN_CTA_AHORRO
                                    * CTA_MONE
                                    */
                                    fetch("https://banco-vivienda.club/creditos/actualizar", {
                                        "method": "PUT",
                                        "headers": {
                                            "content-type": "application/json",
                                            "authorization": "Bearer YOUR_TOKEN",
                                            'Accept': 'application/json'
                                        },
                                        "body": JSON.stringify({
                                          "id": 1,
                                          "dpi": 1234,
                                          "descripcion": "tarjeta Visa ",
                                          "diapago": 10,
                                          "cred_tipo": "tar_master"
                                        })
                                      })
                                      .then(
                                            response => response.json()
                                        )
                                      .then(response => {
                                        console.log(response);
                                      })
                                      .catch(err => {
                                        console.error(err);
                                      });
                                </pre>
                            </div>
                        </div>
                    </section>
                    <section id="DELETE">
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <h2>DELETE</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 left-align">
                                <p>Eliminacion de cliente por DPI</p>
                                <pre class="brush:javascript">
                                    fetch("https://banco-vivienda.club/clientes/administracion", {
                                        "method": "DELETE",
                                        "headers": {
                                            'Accept': 'application/json',
                                            "content-type": "application/json",
                                            "authorization": "Bearer YOUR_TOKEN"
                                        },
                                        "body": JSON.stringify({
                                            "dpi": 21781889
                                        })
                                    })
                                        .then(
                                            response => response.json()
                                        )
                                        .then(response => {
                                            console.log(response);
                                        })
                                        .catch(err => {
                                            console.error(err);
                                        });
                                </pre>
                                <pre class="brush:javascript">
                                    //Resultado
                                    {
                                        "Level":"SP",
                                        "Code":402,
                                        "Message":"cliente ya está eliminado"
                                    }
                                </pre>
                                <h3>Eliminacion de Credito</h3>
                                <pre class="brush:javascript">
                                    fetch("https://banco-vivienda.club/creditos/eliminar", {
                                        "method": "DELETE",
                                        "headers": {
                                            'Accept': 'application/json',
                                            "content-type": "application/json",
                                            "authorization": "Bearer YOUR_TOKEN"
                                        },
                                        "body": JSON.stringify({
                                          "id": 1,
                                          "dpi": 1234
                                        })
                                      })
                                      .then(
                                            response => response.json()
                                        )
                                      .then(response => {
                                        console.log(response);
                                      })
                                      .catch(err => {
                                        console.error(err);
                                      });
                                </pre>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </div>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/retina.js"></script>
    <script src="js/jquery.fitvids.js"></script>
    <script src="js/wow.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>

    <!-- CUSTOM PLUGINS -->
    <script src="js/custom.js"></script>
    <script src="js/main.js"></script>

    <script src="js/syntax-highlighter/scripts/shCore.js"></script>
    <script src="js/syntax-highlighter/scripts/shAutoloader.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushXml.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushCss.js"></script>
    <script src="js/syntax-highlighter/scripts/shBrushJScript.js"></script>
    <script>
        var mybutton = document.getElementById("myBtn");
        window.onscroll = function () { scrollFunction() };
        function scrollFunction() {
            if (document.body.scrollTop > 1000 || document.documentElement.scrollTop > 1000) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }
        function topFunction() {
            window.scrollTo({ top: 0, behavior: 'smooth' })
            document.documentElement.scrollTo({ top: 0, behavior: 'smooth' })
        }
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelector('#mode').addEventListener('click', () => {
                document.querySelector('html').classList.toggle('dark');
            })
        });
    </script>
</body>

</html>